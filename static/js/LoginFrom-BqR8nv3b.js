import{_ as e}from"./logo-BGeIq5nv.js";import{l as a,a as l,aC as o,Z as t,ah as s,m as n,p as i,q as r,T as d,U as u,O as p,S as m,aE as c,aF as f}from"./vue-DiyBcK8j.js";import{a as g,n as v,_ as y}from"./index-Bv8ohjgM.js";import"./ElementPlus-DLRbsWH9.js";import"./axios-dB_UgXDe.js";const w={class:"login-from"},_={class:"login-from-info"},h={style:{display:"flex","justify-content":"center"}},b=(e=>(c("data-v-742fe56d"),e=e(),f(),e))((()=>r("img",{src:e,style:{"margin-right":"10px"}},null,-1))),j={style:{width:"100%",display:"flex","align-items":"center","justify-content":"space-evenly"}},$=y(a({__name:"LoginFrom",setup(e){const a=g(),c=l(),f=l(!1),y=o(),$=t({account:"admin",password:"123456"}),k=t({account:[{validator:(e,a,l)=>{""===a?l(new Error("请输入账号")):l()},trigger:"blur"}],password:[{validator:(e,a,l)=>{if(""===a)l(new Error("请输入密码"));else{if(""!==$.password&&!c.value)return;l()}},trigger:"blur"}]}),x=e=>{e&&e.validate((e=>{if(!e)return!1;f.value=!0,v($).then((e=>{f.value=!1,a.setToken(e.data),sessionStorage.setItem("token",e.data),y.push("/")}))}))},V=(e,a)=>{$.account=a,$.password="123456",x(e)};return(e,a)=>{const l=s("el-input"),o=s("el-form-item"),t=s("el-button"),g=s("el-divider"),v=s("el-form");return n(),i("div",w,[r("div",_,[r("div",h,[b,r("h2",null,d(e.$t("login.title")),1)]),u(v,{ref_key:"ruleFormRef",ref:c,model:$,"status-icon":"",rules:k,"label-position":"top","label-width":"auto",size:"large"},{default:p((()=>[u(o,{label:e.$t("login.account"),prop:"account"},{default:p((()=>[u(l,{modelValue:$.account,"onUpdate:modelValue":a[0]||(a[0]=e=>$.account=e),type:"account",autocomplete:"off",placeholder:"admin or test"},null,8,["modelValue"])])),_:1},8,["label"]),u(o,{label:e.$t("login.password"),prop:"password"},{default:p((()=>[u(l,{modelValue:$.password,"onUpdate:modelValue":a[1]||(a[1]=e=>$.password=e),type:"password",autocomplete:"off","show-password":"",placeholder:"Please input password"},null,8,["modelValue"])])),_:1},8,["label"]),u(o,null,{default:p((()=>[u(t,{type:"primary",onClick:a[2]||(a[2]=e=>x(c.value)),style:{width:"100%"},loading:f.value},{default:p((()=>[m(d(e.$t("login.login")),1)])),_:1},8,["loading"])])),_:1}),u(g,{"content-position":"center"},{default:p((()=>[m(d(e.$t("login.otherLogins")),1)])),_:1}),r("div",j,[u(t,{type:"primary",onClick:a[3]||(a[3]=e=>V(c.value,"admin")),size:"small",loading:f.value},{default:p((()=>[m(d(e.$t("login.admin")),1)])),_:1},8,["loading"]),u(t,{type:"primary",onClick:a[4]||(a[4]=e=>V(c.value,"test")),size:"small",loading:f.value},{default:p((()=>[m(d(e.$t("login.test")),1)])),_:1},8,["loading"])])])),_:1},8,["model","rules"])])])}}}),[["__scopeId","data-v-742fe56d"]]);export{$ as default};
