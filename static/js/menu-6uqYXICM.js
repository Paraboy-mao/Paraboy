import{e,f as l}from"./index-DnOIoFi_.js";import{T as t}from"./TableComponent-Dbe58FMD.js";import{_ as a}from"./MenuDialog.vue_vue_type_script_setup_true_lang-DPTIT-Bd.js";import{l as o,a as n,ah as i,ap as s,m as r,p as u,P as m,M as d,O as f,q as p,T as c,U as v,S as _}from"./vue-DiyBcK8j.js";import"./ElementPlus-Dxo_w5_G.js";import"./axios-dB_UgXDe.js";const y={style:{display:"flex","justify-content":"center"}},b=o({__name:"menu",setup(o){const b=n(null),g=n([]),h=[{label:"菜单名称",field:"title",slotName:"text",align:"left"},{label:"路由名称",field:"name",slotName:"text",align:"left"},{label:"路由路径",field:"path",slotName:"text",align:"left"},{label:"i18nKey",field:"i18nKey",slotName:"text"},{label:"组件路径",field:"component",slotName:"text"},{label:"排序",field:"orderNum",slotName:"text",width:80},{label:"路由图标",field:"icon",slotName:"icon",width:90},{label:"操作",field:"operation",slotName:"operation",width:280}],x=n(!1);function w(){x.value=!0,e({}).then((e=>{g.value=e.data,x.value=!1}))}function C(e,l){var t;null==(t=null==b?void 0:b.value)||t.getAddorEdit(e,l)}return w(),(e,o)=>{const n=i("svg-icon"),N=i("el-button"),j=i("el-popconfirm"),k=s("loading");return r(),u("div",null,[m((r(),d(t,{tableData:g.value,column:h,onGetAddorEdit:C,onGetRefresh:w,tableTitle:"菜单管理",isShowPaging:!1,"row-key":"menuId"},{text:f((({scope:e,item:l})=>[p("span",null,c(e.row[l.field]),1)])),icon:f((({scope:e,item:l})=>[p("div",y,[v(n,{iconClass:e.row.meta.icon},null,8,["iconClass"])])])),operation:f((({scope:e,item:t})=>[v(N,{type:"success",size:"small",onClick:l=>C(e.row,"addChild")},{default:f((()=>[_("新增子级")])),_:2},1032,["onClick"]),v(N,{type:"primary",size:"small",onClick:l=>C(e.row,"edit")},{default:f((()=>[_("编辑")])),_:2},1032,["onClick"]),v(j,{title:"Are you sure to delete this?",onConfirm:t=>{return a=e.row.menuId,void l({menuId:a}).then((e=>{w()}));var a}},{reference:f((()=>[v(N,{type:"danger",size:"small"},{default:f((()=>[_("删除")])),_:1})])),_:2},1032,["onConfirm"])])),_:1},8,["tableData"])),[[k,x.value]]),v(a,{ref_key:"menuDialog",ref:b,onGetSysMenuTree:w},null,512)])}}});export{b as default};
